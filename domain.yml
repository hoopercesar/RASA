version: "3.1"

intents:
  - saludo
  - despedida
  - afirmacion
  - negacion
  - mood_happy
  - mood_unhappy
  - bot_challenge
  - tratamiento
  - tiempo
  - pregunta_datos
  - repite_numero_telefono
  - entregar_numero_telefono

# entities:
#   - numero_telefono

# para intercamiar más entities con el bot usaremos forms
entities:
  - nombre
  - apellido
  - numero_telefono

slots:
  numero_telefono:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: name_form
            requested_slot: numero_telefono
  nombre:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: name_form
            requested_slot: nombre
  apellido:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: name_form
            requested_slot: apellido
forms:
  name_form:
    required_slots:
      - nombre
      - apellido
      - numero_telefono
responses:
  utter_pregunta_numero_telefono:
    - text: "{nombre} {apellido} me das tu teléfono?"
    - text: "cuál es tu número de teléfono, {nombre} {apellido}?"
    - text: "{nombre} {apellido}, podrías darme tu número telefónico, por favor?"
    - text: "necesito tu número de teléfono, {nombre} {apellido}"

  utter_pregunta_nombre:
    - text: "Cuál es tu nombre?"
    - text: "me podrías decir tu nombre?"
    - text: "escriba su nombre"
    - text: "nombre: "
    - text: "su nombre: "

  utter_pregunta_apellido:
    - text: "Hola {nombre}, cuál es tu apellido?"
    - text: "Un gusto {nombre}, y su apellido es?"
    - text: "{nombre}, dame tu apellido"
    - text: "Qué tal {nombre}. Ahora necesito tu apellido"

  utter_submit:
    - text: "Gracias."

  utter_slots_values:
    - text: "Tengo tus datos {nombre} {apellido}, y tu teléfono {numero_telefono}"
    - text: "Datos guardados, {nombre} {apellido}, teléfono {numero_telefono}"
    - text: "Aquí están tus datos: {nombre} {apellido}, {numero_telefono} es tu teléfono"

  utter_tratamiento:
    - text: "el tratamiento va bien. debes tener paciencia "

  utter_tiempo:
    - text: "falta poco tiempo, vas bien"
    - text: "Sólo unos días más. Déjame ver cuánto te falta"
    - text: "Hey!, continúa con el tratamiento, la paciencia es la madre de todos los frutos"

  utter_saludo:
    - text: "Hola {nombre}, cómo estás?"
    - text: "Hola {nombre}, qué tal te va?"
    - text: "Qué tal, {nombre}! Cómo va tu día?"

  utter_cheer_up:
    - text: "Anímate, dentro de poco estarás como nuevo"
    - text: "No te eches a morir. Vas a salir bien de ésta"

  utter_did_that_help:
    - text: "Did that help you?"

  utter_happy:
    - text: "Qué bueno, me alegro!!"
    - text: "Estupendo!!"
    - text: "Genial. Qué alegría oirte decirlo!"

  utter_despedida:
    - text: "Adiós"
    - text: "Hasta la próxima"
    - text: "Espero saber pronto de tí"
    - text: "Chao, chao"
    - text: "Nos vemos ;)"

  utter_iamabot:
    - text: "I am a bot, powered by Rasa."

  utter_consulta_horarios:
    - text: "Has tomado las medicina a las horas establecidas?"

  utter_apoyo:
    - text: "muy bien. sigue así, a no decaer!"
    - text: "Excelente. Hay que ser disciplinado con el tratamiento"
    - text: "Si sigues así, dentro de muy poco estarás como nuevo"

  utter_remember:
    - text: "Ok. lo recordaré"
    - text: "Guardado. Gracias"

actions:
  - action_di_numero_telefono
  # - action_di_numero_telefono

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
