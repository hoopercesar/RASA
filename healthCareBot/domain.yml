version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - inform_rut
  - request_rut_form
  # - request_tratamiento_form
  # - request_horarios_form

entities:
  - rut
  # - tratamiento
  # - horarios

slots:
  rut:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: rut
  # CUSTOM SLOTS
  nombre:
    type: text
    mappings:
      - type: custom
        action: validate_rut_form
  userID:
    type: text
    mappings:
      - type: custom
        action: validate_rut_form
  marte:
    type: text
    mappings:
      - type: custom
        action: validate_rut_form
  apellido:
    type: text
    mappings:
      - type: custom
        action: validate_rut_form
  usuarioInfo:
    type: text
    mappings:
      - type: custom
        action: action_tratamiento
# ****************************************
forms:
  rut_form:
    required_slots:
      - rut

responses:
  utter_greet:
    - text: "Hola, qué tal? Soy tu asistente virtual. Podría digitar su Rut (ej. 111222333-4)"
    - text: "Qué tal. Por favor, escriba su Rut (ej. 111222333-4)"
    - text: "Qué gusto! Cuál es su Rut (ej. 111222333-K)"

  utter_cheer_up:
    - text: "Quiéres contarme cuáles son tus síntomas"

  utter_did_that_help:
    - text: "Ha sido de ayuda?"

  utter_happy:
    - text: "Bien... excelente"

  utter_goodbye:
    - text: "Hasta la próxima, "
    - text: "Mantente en contacto. Chao, {apellido}. "
    - text: "Estaré aquí para lo que necesites, {apellido}. Hasta pronto. "

  utter_iamabot:
    - text: "Soy una asistente virtual. Estoy aquí para ayudar en tu tratamiento"

  utter_submit:
    - text: "Gracias. Estoy procesando su informacióm... {usuarioInfo}"
    - text: "Información recibida. Aguarde unos instantes... {usuarioInfo}"

  utter_rut_slots:
    - text: " si quieres revisar tus medicinas, digita tratamiento. Si quieres revisar los horarios digita horario"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

actions:
  - validate_rut_form
  - action_tratamiento
